{"version":3,"sources":["molinete.controller.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"molinete.js","sourcesContent":["app.controller(\"molineteController\",\r\n[\"$scope\",\"$http\", \"$interval\",\"toasty\",\r\nfunction ($scope,$http, $interval, toasty) {\r\n    $scope.nodejserror = true;\r\n\r\n    $scope.lastTest = [];\r\n\r\n    const io = ws('arushap34:3333', {});\r\n\r\n    const client = io.channel('molinete');\r\n    client.connect(function (error, connected) {\r\n        if (error) {\r\n            console.log(error);\r\n            $scope.nodejserror = true;\r\n            return\r\n        }\r\n\r\n        $scope.nodejserror = false;\r\n        console.log('Molinete Connected');\r\n        client.emit('MolineteSubscribe');\r\n        $scope.$apply();\r\n    });\r\n\r\n    client.on('disconnect',function() {\r\n        console.log('Molinete Disconnected');\r\n        $scope.nodejserror = true;\r\n        $scope.$apply();\r\n    });\r\n\r\n    client.on('MolineteChannel', function (message) {\r\n        var server = JSON.parse(message);\r\n\t\tconsole.log(server);\r\n\r\n        $scope.lastTest.push(server);\r\n\r\n        $scope.nodejserror = false;\r\n        $scope.$apply();\r\n    });\r\n}]);\r\n\r\n\r\n"]}